{"pageProps":{"post":{"attributes":{},"html":"<p>Next we&#39;re going to implement object storage. What is object storage? It&#39;s a place where you can upload files (or blobs, as many places call them, as it doesn&#39;t matter what the file is, it&#39;s just a blob of data.) There are tons of ways to do this, most commonly AWS S3, but we&#39;re going to go ahead and stick with Vercel since most of our project is based around Vercel, but you could use Cloudinary, S3, Azure Blob Storage, uploadthing, or any other number of services. Vercel Blob works just great.</p>\n<p>What we want to do is allow users to attach an image to an article if they want to. So we&#39;re going to do that with Vercel Blob.</p>\n<p>Head to Vercel.com and log in or sign up. From there, click on the &quot;Storage&quot; tab. Click &quot;Create Database&quot; (despite this not really being a database) and click &quot;Blob&quot; to create a new Vercel Blob bucket. Choose a region and a name.</p>\n<blockquote>\n<p>You may have noticed you can get Neon through Vercel as well - this is totally valid if you want to do it this way. Both Vercel and Neon and work hard to make this integration work great, and it&#39;s nice to get everything through one bill. I chose to do it this way because I wanted to teach database before I taught Vercel.</p>\n</blockquote>\n<p>From here, go to you Vercel project and click the <code>.env.local</code> little tab to be able to copy your API key, and paste that into your .env file.</p>\n<p>Next go to the settings page and copy the base URL. In your next.config.js file put this</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">import</span> type { <span class=\"hljs-title class_\">NextConfig</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;next&quot;</span>;\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-attr\">nextConfig</span>: <span class=\"hljs-title class_\">NextConfig</span> = {\n  <span class=\"hljs-attr\">images</span>: {\n    <span class=\"hljs-attr\">remotePatterns</span>: [<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_\">URL</span>(<span class=\"hljs-string\">&quot;&lt;your_vercel_blob_url&gt;/**&quot;</span>)],\n  },\n};\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> nextConfig;\n</code></pre><p>This allows you to use the <code>next/image</code> components with no additional config, it just works.</p>\n<p>Go ahead and run this in your project to install the SDK</p>\n<pre><code class=\"hljs language-bash\">npm i @vercel/blob\n</code></pre><p>Awesome. Now let&#39;s go write the code.</p>\n","markdown":"Next we're going to implement object storage. What is object storage? It's a place where you can upload files (or blobs, as many places call them, as it doesn't matter what the file is, it's just a blob of data.) There are tons of ways to do this, most commonly AWS S3, but we're going to go ahead and stick with Vercel since most of our project is based around Vercel, but you could use Cloudinary, S3, Azure Blob Storage, uploadthing, or any other number of services. Vercel Blob works just great.\n\nWhat we want to do is allow users to attach an image to an article if they want to. So we're going to do that with Vercel Blob.\n\nHead to Vercel.com and log in or sign up. From there, click on the \"Storage\" tab. Click \"Create Database\" (despite this not really being a database) and click \"Blob\" to create a new Vercel Blob bucket. Choose a region and a name.\n\n> You may have noticed you can get Neon through Vercel as well - this is totally valid if you want to do it this way. Both Vercel and Neon and work hard to make this integration work great, and it's nice to get everything through one bill. I chose to do it this way because I wanted to teach database before I taught Vercel.\n\nFrom here, go to you Vercel project and click the `.env.local` little tab to be able to copy your API key, and paste that into your .env file.\n\nNext go to the settings page and copy the base URL. In your next.config.js file put this\n\n```javascript\nimport type { NextConfig } from \"next\";\n\nconst nextConfig: NextConfig = {\n  images: {\n    remotePatterns: [new URL(\"<your_vercel_blob_url>/**\")],\n  },\n};\n\nexport default nextConfig;\n```\n\nThis allows you to use the `next/image` components with no additional config, it just works.\n\nGo ahead and run this in your project to install the SDK\n\n```bash\nnpm i @vercel/blob\n```\n\nAwesome. Now let's go write the code.\n","slug":"vercel-blob","title":"Vercel Blob","section":"Object Storage","icon":"cloud","filePath":"/home/runner/work/build-a-fullstack-nextjs-app-v4/build-a-fullstack-nextjs-app-v4/lessons/05-object-storage/A-vercel-blob.md","nextSlug":"/lessons/object-storage/upload-images","prevSlug":"/lessons/database/code-checkpoint"}},"__N_SSG":true}